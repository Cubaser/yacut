# Yacut

## Описание
Yacut представляет собой сервис для сокращения длинных ссылок. Пользователь может либо самостоятельно задать короткий идентификатор для своей ссылки, либо доверить сервису автоматическую генерацию короткой версии.

Например, сервис преобразует громоздкую ссылку вроде `https://flask.palletsprojects.com/en/stable/changes/#version-3-1-1` в удобную и компактную — `http://localhost/ver2`. После создания короткой ссылки при её использовании происходит перенаправление на исходный адрес.

Сервис поддерживает работу как через веб-интерфейс, так и через API, предоставляющий доступ ко всему функционалу приложения.

### Основные технологии:
- **Python**;
- **Flask**;
- **SQLAlchemy**.

---

## Установка

### 1. Клонирование репозитория
Склонируйте репозиторий на своё устройство:
```bash
git clone git@github.com:Cubaser/yacut.git
```

### 2. Установка виртуального окружения и зависимостей
Активируйте виртуальное окружение и установите необходимые библиотеки:
```bash
python3 -m venv venv
source venv/bin/activate # для Linux
source venv/scripts/activate # для Windows
pip install -r requirements.txt
```

### 3. Настройка переменных окружения
Создайте в корне проекта файл `.env` со следующим содержимым:
```env
FLASK_APP=yacut
FLASK_DEBUG=1  # или 0
DATABASE_URI=sqlite:///db.sqlite3
SECRET_KEY=<ваш_секретный_ключ>
```

После этого проект будет готов к запуску.

---

## Запуск

### Локальный запуск
Чтобы запустить приложение локально, выполните команду:
```bash
flask run
```
Сервис станет доступен по следующим адресам:

- **Главная страница**: [http://localhost/](http://localhost/)
  - Если поле для короткой ссылки оставить пустым, система автоматически сгенерирует короткий идентификатор.
  - Максимальная длина короткой ссылки — 16 символов (разрешены только латинские буквы и цифры).

- **API эндпоинт для создания коротких ссылок**: [http://localhost/api/id/](http://localhost/api/id/) (поддерживает POST-запросы).

  **Схема POST-запроса:**
  ```json
  {
      "url": "string",
      "custom_id": "string"  // необязательное поле
  }
  ```
  **Схема ответа:**
  ```json
  {
      "url": "string",
      "short_link": "string"
  }
  ```

- **API эндпоинт для получения информации о короткой ссылке**: [http://localhost/api/id/<short_id>/](http://localhost/api/id/<short_id>/) (поддерживает GET-запросы).

  **Схема ответа:**
  ```json
  {
      "url": "string"
  }
  ```

### Документация
Полное описание API находится в файле `openapi.yml`, который можно найти в репозитории.

---

## Автор
Иванов Виктор
[cubaser@mail.ru](mailto:cubaser@mail.ru)

